/*
  Quests scroll model (mobile-safe + router-safe)

  - `.screen-root` is `touch-action:none` globally so the plane/router can own horizontal swipes.
  - We keep the screen root *not scrollable*.
  - We create ONE inner scroll region (`.questsScroll.scrollable`) that opts into vertical panning.
*/
.screen-root.questsScreen{
  display:flex;
  flex-direction:column;
  min-height:0;
}

.questsScroll{
  flex: 1 1 auto;
  min-height: 0;
  overflow-y: auto;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-y: contain;
  touch-action: pan-y;
  padding-bottom: env(safe-area-inset-bottom);

  /*
    MOBILE COMPOSITING HARDENING
    ---------------------------
    Some mobile browsers can leave behind a “stale” snapshot layer when:
      - the scroll container lives inside a transformed parent (our router plane)
      - AND children use backdrop-filter (our .myfiCard base class)

    The symptom looks like duplicated content where one layer scrolls and one
    is static. It’s usually a GPU/compositor artifact, not real DOM duplication.

    Mitigation strategy:
      1) Isolate paints for the scrolling region.
      2) Avoid backdrop-filter inside this scroll region.
  */
  contain: paint;
  isolation: isolate;
  transform: translateZ(0);
}

/* Disable blur surfaces inside Quests scroll to prevent compositor “ghost layers”. */
.questsScroll .myfiCard,
.questsScroll .qbCard{
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.questsRoot{
  padding: 14px;
}

/* QuestBoard part (v1) */
.qb{
  display:flex;
  flex-direction:column;
  gap:12px;
}

.qb__top{ }

.qb__title{ font-size: 18px; font-weight: 800; letter-spacing: .4px; }
.qb__hint{ font-size: 12px; opacity: .88; margin-top: 4px; line-height: 1.35; }

.qb__types{ display:flex; gap:8px; overflow:auto; padding-bottom:2px; }
.qbTab{ cursor:pointer; }
.qbTab.is-active{ background: rgba(255,255,255,0.10); border-color: rgba(255,255,255,0.26); }

.qb__sections{ display:flex; flex-direction:column; gap: 14px; }
.qb__section{ }
.qb__secHead{ margin-bottom: 8px; }
.qb__list{ display:flex; flex-direction:column; gap: 10px; }

.qbEmpty{ font-size: 12px; opacity: .7; padding: 10px; text-align: center; }

.qbCard{
  padding: 10px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(0,0,0,0.22);
}
.qbCard.is-focused{
  border-color: rgba(255,255,255,0.22);
  box-shadow: 0 0 0 1px rgba(255,255,255,0.08) inset;
}

.qbCard__row{ display:flex; align-items:flex-start; justify-content:space-between; gap: 10px; }
.qbCard__meta{ min-width: 0; }
.qbCard__type{ font-size: 10px; opacity: .75; letter-spacing: .8px; }
.qbCard__name{ font-size: 14px; font-weight: 800; margin-top: 2px; }

.qbCard__actions{ display:flex; gap: 8px; }
.qbBtn{ cursor:pointer; }
.qbBtn:disabled{ opacity: .45; }

.qbCard__nar{ font-size: 12px; opacity: .85; line-height: 1.35; margin-top: 8px; }

.qbCard__bar{ height: 8px; border-radius: 99px; background: rgba(255,255,255,0.08); overflow:hidden; margin-top: 10px; }
.qbCard__fill{ height: 100%; background: rgba(255,255,255,0.22); }

.qbCard__foot{ display:flex; justify-content:space-between; gap: 10px; margin-top: 8px; font-size: 12px; }
.qbCard__prog{ opacity: .8; }
.qbCard__reward{ opacity: .95; font-weight: 700; }
