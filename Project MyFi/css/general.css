/* App-wide: disable long-press callout & selection by default */
.app-no-context,
.app-no-context *:not([data-allow-context]) {
  -webkit-touch-callout: none;   /* iOS long-press menu */
  -webkit-user-select: none;
  user-select: none;
}

/* Opt-outs (allowed zones): forms, editors, and any element you mark */
.app-no-context input,
.app-no-context textarea,
.app-no-context select,
.app-no-context [contenteditable="true"],
.app-no-context .allow-select,
.app-no-context [data-allow-context] {
  -webkit-touch-callout: default;
  -webkit-user-select: text;
  user-select: text;
}


/* Music toggle button (inherits your existing .btn styles) */
.music-btn {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  pointer-events: auto; /* ensure clickable in glass headers */
}

.music-btn.is-muted .music-btn__icon {
  opacity: .6;
  filter: grayscale(0.3);
}

/* If you use icon-only at small widths, you can hide the label */
@media (max-width: 420px) {
  .music-btn .music-btn__label { display: none; }
}

/* ===== Edge Glow (navigation + notifications) ===== */
.edge-glow-mount {
  position: fixed; inset: 0; pointer-events: none; z-index: 59; /* just under nav arrows (60) */
}

/* one layer that hosts 4 strips */
.edge-glow {
  position: fixed; inset: 0;
  pointer-events: none;
}

.edge-glow__strip {
  position: absolute;
  pointer-events: none;
  opacity: var(--eg-opacity, .55);
  transition: opacity .18s ease, transform .18s ease;
  /* thickness is driven by --eg-thickness (px) and expands inward */
}

/* default theme variables; can be overridden per-strip */
.edge-glow__strip {
  --eg-thickness: 6px;
  --eg-color: 200, 220, 255;     /* RGB for default glassy cyan */
  --eg-alpha: 0.28;
  --eg-blur: 14px;
}

/* Top */
.edge-glow__strip[data-dir="up"] {
  left: 0; right: 0; top: 0; height: var(--eg-thickness);
  background: linear-gradient(to bottom, rgba(var(--eg-color), var(--eg-alpha)), rgba(var(--eg-color), 0));
  filter: blur(var(--eg-blur));
}
/* Right */
.edge-glow__strip[data-dir="right"] {
  top: 0; bottom: 0; right: 0; width: var(--eg-thickness);
  background: linear-gradient(to left, rgba(var(--eg-color), var(--eg-alpha)), rgba(var(--eg-color), 0));
  filter: blur(var(--eg-blur));
}
/* Bottom */
.edge-glow__strip[data-dir="down"] {
  left: 0; right: 0; bottom: 0; height: var(--eg-thickness);
  background: linear-gradient(to top, rgba(var(--eg-color), var(--eg-alpha)), rgba(var(--eg-color), 0));
  filter: blur(var(--eg-blur));
}
/* Left */
.edge-glow__strip[data-dir="left"] {
  top: 0; bottom: 0; left: 0; width: var(--eg-thickness);
  background: linear-gradient(to right, rgba(var(--eg-color), var(--eg-alpha)), rgba(var(--eg-color), 0));
  filter: blur(var(--eg-blur));
}

/* Hidden when navigation not available for that edge */
.edge-glow__strip.is-disabled { opacity: 0; }

/* Peek when user nears an edge or on arrow-key hint */
.edge-glow__strip.is-peek { --eg-thickness: 10px; --eg-opacity: .8; }

/* Drag progress (we push thickness up to 18px briefly) */
.edge-glow__strip.is-drag { --eg-thickness: 18px; --eg-opacity: 1; }

/* Notification tones (can be set per-edge) */
.edge-glow__strip.tone-default { --eg-color: 160, 210, 255; --eg-alpha: .28; }
.edge-glow__strip.tone-notify  { --eg-color: 255, 200, 90;  --eg-alpha: .35; }  /* gold */
.edge-glow__strip.tone-alert   { --eg-color: 255, 110, 110; --eg-alpha: .40; }  /* red */
.edge-glow__strip.tone-okay    { --eg-color: 80, 230, 170;  --eg-alpha: .32; }  /* green */

/* Subtle pulse for notifications */
@keyframes egPulse {
  0% { --eg-thickness: 6px; --eg-opacity: .6; }
  50% { --eg-thickness: 12px; --eg-opacity: .95; }
  100% { --eg-thickness: 6px; --eg-opacity: .6; }
}
.edge-glow__strip.is-pulsing {
  animation: egPulse 1.6s ease-in-out infinite;
}


